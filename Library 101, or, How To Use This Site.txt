Everything in the CUSFS Library is an Item. The Type column corresponds to whether it's a Book, Film, Game, Magazine, or Other. More categories can obviously be hard coded in if need be.

The number of films or magazines in the library (~20) is somewhat dwarfed by the number of books in the library (~6000) so the default type is Book.

The status column for Items is for e.g. Available [at least one copy is in the library collection ready to be taken out], All copies taken out, Lost, Damaged, etc

The Librarian's account works like this. There is ONE librarian account; it's the first account in the list. This is because the Librarian is sovereign. There are also accounts for the Chairbeing, the Secretary, and the other committee members. These are *hard coded into the site*. Each time the committee changes, these accounts are passed on to the next bearer of that position. Committee positions have admin privileges.

Each committee member ALSO has their own personal account which is theirs alone and which they keep after their tenure is up. The idea is that committee members check books out with their personal account, not their committee one; the latter is only used for admin-y purposes, like moderation and editing library entries.

It'd nice if all accounts had a Title, too, as a gimmick. As in, Chairbeing's is "Almighty", Reeve is "Omnipotent", and if you're some random user you can make something up, like in the Jomsbook. (Though they're moderated to a certain extent.)










TODO LIST

The styling for flashes doesn't go with the theme; redo colours? certainly the green :success looks horrible

Would be nice to get the Withdraw and Return buttons working via Ajax. Need to refresh the entire _availability partial though.

BUG: If you're importing a CSV the bit which detects the series is flawed. It just seizes the last character for the number and all but the last two characters for the name. This means it doesn't work if the book you're importing is more than 10th in the series (dammit, Robert Jordan) because by extracting only the last digit it wil think the series title is "Wheel of Time " rather than "Wheel of Time" and create a new series. Solution: in the short term, get Ruby to knock off all trailing whitespace from the name to get series name right, and use the bookcode column to get number rather than string. But in this just passes the buck to series with more than 99 books in (which I'm sure exist somewhere...) so in the long run should use regex to check intelligently.

How should it deal with 2in1 books, like Shadow and Betrayal by Daniel Abraham?!

Add genre info to books (by default there's no genre, and this can be done whenever people want to procrastinate). Then get art for each genre so you can browse by type (eg steampunk, space opera, whatever - like the tags on Link Up)

Comments section at the bottom of each book? ^ Possibly same as reviews of books but you don't need to star it

Request specific books and send an email to the Librarian/add it to a public list of requested books for others to +1 ?

Add a "Official Recommendations List" option with according links to the books and highlights which of CUSFS' Top 100 aren't in the library (so they can be bought....?)

Background image can afford to be higher quality. Certainly would look better on my screen. Dynamically select - or just one-size-fits-all assume HD? (Also, maybe re-export it as a PNG?)

Height of screen no object, but width is a problem. Currently the site looks fine with windows as narrow as 1200px (in fact, it looks lovely at 1200px) but I anticipate some screens might be 1024px wide. Probably need a "compact" version where the navbars are formatted differently, but that can wait. (It should be viewable on a low-res mobiles without having to scroll sideways.)

Could be that you want to use a custom build of Bootstrap including only certain components; certainly it's the slowest loading asset locally.

Re sorting: It lists "A Romance of the Equator" as being under "A" not "R". Does the same for titles starting in "The". Manually fix? possibly there's a plugin for that?

Ajax reordering button for series and author views

Librarian (+other admins) can create Withdrawals with user_ids for other users. Implement "create withdrawal record" screen

Book reservations! (as well as book requests)

Rethinking Withdraw buttons: Random users cannot withdraw books, only admins. Obviously users can view their own withdrawals though. Assuming whoever opens the library on a regular basis will have a laptop logged in on an admin account to withdraw books with

Automated emails to say "You've had this book out for 1 month, remember to give it back!" to email to user's Hermes

Maximum books to take out: 10 book limit

A Generic Library Minion account: can issue and return

BOOK TAGS: make a long list of standard tags and then prompt users with a certain book on their reading history to tag it. Only Librarian can make new tags, though (?)

Nobody other than the Librarian / other admins can create accounts. The Memsec can tick a box which says "this person bought 1 year membership on the 6th October" which allows that user to withdraw books.

Each time a withdrawal is created the item it's from makes a note, so we can keep records of frequently taken-out books. Then the Librarian can review that properly, and random users can note "this is a popular book" etc.

h2 has too much padding underneath, you can see that on the series index

I'm assuming the amazon search gem will let us get all info on books when requested, rather than store it. ditto book covers. means there's no need for a humungeous database of jpgs for every book cover!

Oh, and each book show page should have a thing saying "Where can I find this book?" followed by its actual location: i.e. "In the CSL, CUSFS section, turn right at the door and it's in the Graphic Novels bit which should be organised alphabetically." Or, maybe, "In the possession of {user}. Message them here to get them to give it back!"

For some reason there's a shadow (sort of paler-blue copy of the letters just above the real ones) on the navbar text, is that bootstrap or what? anyway, it looks ridiculous.

omg http://railscasts.com/episodes/296-mercury-editor we need this! so future librarians can code EVEN less! (Though it *does* mean all editable pages have to be stored in the database rather than hard-coded. e.g. Page model with @page.content stuff, like in the Railscast)

https://github.com/thoughtbot/paperclip
^ Model: CreativeOutput (or whatever) which holds both a title, maybe blog-post-style content, date obviously, and the actual file using Paperclip. the Creative section consists of this. So, the Creative page is basically the Index of the CreativeOutput controller.

Need a migration which places unique indices on [collection_id, item_id] pairs within Exhibits. That way you can't add the same item to a list twice.

Capacity to upload, parse, and add a correctly formatted CSV of books? http://www.tutorialspoint.com/ruby-on-rails/rails-file-uploading.htm

Item show page: What you want here is a collapsible pane of boring stuff like ISBN, date published, where in the collection it is, etc. The information visible by default is the obvious stuff, plus genre tags, and comments. Ideally you want to be able to spider Google Images for a picture of the cover as an image, or maybe Amazon, but that might not be possible.

^ Use https://github.com/visionmedia/google-search to google book to retrieve cover? And spider Goodreads.com for the blurb?

Heroku's still using WEBrick, fix! to Thin?

Link-Up has a very nice facility (presumably from the tutorial?) to redirect you to a given page if you are prompted to sign in. CUSFS needs this. Check out the bottom of the sessions controller in sweaton

EASTER EGGS
some sort of mini game where you play as the Cuddly Alien?? accessible through clicking the Cuddly Alien when you see it on random pages?

ie all pages have an invisible pointer-events: none "glass" div over the top, like the logo div; occasionally the cuddly alien will appear and scoot around and you can click it to load the game in that div, over the top of whatever page you were viewing (maybe the container-cusfs-main fades out?). Possibly a javascript based randomiser which determines alien location (and usually places it offscreen) and has it tumbling around in spaaaaace (on either side of the container), crawling around the machinery, etc. (Probably best to keep it to the space/... picture background because unobtrusive). Make triply sure that it doesn't slow the page load time at all. Maybe it only shows up at all every so often, so if your page takes sliiiiightly longer to load you know why.

you are the alien, you have to collect books from the clutches of the evil lizardmen illuminati from antares iv? AND THE BOOKS YOU HAVE TO COLLECT ARE RANDOMLY SELECTED FROM THE CATALOGUE? also orange scarves.

definitely there ought to be a prize for the first person to beat this game. as in, chocolate

http://threejs.org/
also http://hellorun.helloenjoy.com/ .......wow

http://buildnewgames.com/introduction-to-crafty/ this. obviously.

Bootstrap dropdowns have slightly annoying styling - colours on click/mouseover/mouseoff etc are off. Could redo so the entire thing is specified in the scss file

Could just bite the bullet and upload the lot so entire spreadsheet's online and can begin to distribute to freshers. Need to create all sections on the Category menu but that shouldn't take long. Extra actions on the Items controller for games, films, graphic novels etc? And should implement Ransack asap, that seems pretty important to me!

The "Browse by" menu ought to have more members. eg date, signed copies, 

NB http://guides.rubyonrails.org/association_basics.html#controlling-caching allows counter-caching - i.e. more efficient counting of children.
http://railscasts.com/episodes/23-counter-cache-column?view=asciicast
or possibly https://github.com/magnusvk/counter_culture which is super up-to-date

Searches for:
	> Items by all (sensible) attributes, including number of available copies
	> Authors by name
	> Series (would also be entertaining to sort by length, ie freaking Stainless Steel Rat...)
	> Category obviously
	> Collections
		> Should also make the Official Lists. Um, who even has that list...?!
		> And what to do with any items which are on the official lists but which we don't have?! Possibly create as an Item and make Editions string empty? Need to deal with that in view etc.

Search also: Should direct you not to item index (or, possibly, can repurpose that page for the /books and /graphic_novels etc pages) but instead to a Search Results page which has multiple partials rendered:
1) Items results (ie Item.search(params[:q].result))
2) Author results (Author.search(params[:q].result))
3) Series result (above)
4) Review content contains
5) Users and their "about me"s
6) Collections - so if you enter "aldiss adams" it'll show you all collections with books by both Brian Aldiss and Douglas Adams in

Ooh, author pictures from Wikipedia? /google images? (can happen at the same time as the main book cover and blurb stuff but is definitely secondary to it!)
https://openlibrary.org/dev/docs/api/covers

Stuff to go on homepage:
Latest events in calendar
Random selection of books
Recent reviews
Official recommendation lists
