<% provide :title, "New entry" %>
<h1>New entry</h1>

<div class="row">
	<div class="span6 offset3">
		<%= form_for(@item) do |f| %>
			<%= render 'shared/error_messages', object: f.object %>

			<%= f.label :title %>
			<%= f.text_field :title %>

			<%= f.label :author_id, "Author" %>
			<%= f.collection_select :author_id, Author.all, :id, :name %>
			<!-- TODO replace with an autocompleting text box. Need to send changes to controller too, which can then tell whether said author exists already and create a record if they do. -->

			<%= f.label :series_id, "Series" %>
			<%= f.collection_select :series_id, Series.all, :id, :name %><br>
			<small>If you don't see the series or author in these two boxes, you'll need to add them separately. <%= link_to "Create an author", new_author_path %> or <%= link_to "add a series", new_series_path %>.</small>

			<%= f.label :series_number, "Number in series" %>
			<%= f.text_field :series_number %>
			            
			<%= f.label :isbn %>
			<%= f.text_field :isbn %>

			<%= f.label :cover_url %>
			<%= f.text_field :cover_url %>

			<%= f.label :description %>
			<%= f.text_area :description %>

			<%= f.label :medium, "Medium" %>
	        <%= f.collection_select :medium, Item::MEDIA, :to_s, :humanize %>

			<%= f.label :date %>
			<%= f.select :date, 1850..Date.today.year, selected: Date.today.year  %>

			<%= f.label :notes %>
			<%= f.text_area :notes %>
<br>
			<%= f.submit "Add to Library", class: "btn btn-large btn-primary" %>
		<% end %>
	</div>
</div>

<%= render 'shared/back_button', path: items_path %>